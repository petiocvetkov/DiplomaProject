//
   Created by petio on 27.12.2016 Ğ³..

extends ../shared/layout
block main-content
    .container
        .row
            .col-md-6.col-md-offset-3
                h1.text-center Currently Listed Events
                br

                each event in data.events
                    .panel.panel-info
                        .panel-heading
                            a(href="/events/details/#{event._id}") #{event.title}
                        .panel-body #{event.description}

                    br
                ul.list-unstyled.list-inline.text-center
                    if data.currentPage < 5
                        - for(var i = 1; i <= data.currentPage; i++)
                            li
                                a.btn.btn-lf.btn-primary(href="/events/active?page=#{i}&pageSize=#{data.pageSize}") #{i}
                        - for(var i = data.currentPage + 1;i <= data.total && i < data.currentPage + 5; i++)
                            li
                                a.btn.btn-lf.btn-primary(href="/events/active?page=#{i}&pageSize=#{data.pageSize}") #{i}
                    else
                        - for(var i = data.currentPage - 4; i <= data.currentPage + 1; i++)
                            li
                                if (i == currentPage)
                                    a.btn.btn-lf.btn-success(href="/events/active?page=#{i}&pageSize=#{data.pageSize}") #{i}
                                else
                                    a.btn.btn-lf.btn-primary(href="/events/active?page=#{i}&pageSize=#{data.pageSize}") #{i}

                        - for(var i = data.currentPage + 1;i < data.currentPage + 4 && i <= data.total + 1 ; i++)
                            li
                                a.btn.btn-lf.btn-primary(href="/events/active?page=#{i}&pageSize=#{data.pageSize}") #{i}
                    

